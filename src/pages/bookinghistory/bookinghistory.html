<!--
  Generated template for the BookinghistoryPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

   <ion-navbar color="ionic">
        <button ion-button menuToggle>
            <ion-icon name="menu"></ion-icon>
       </button>
        <ion-title>Booking History</ion-title>
    </ion-navbar>
      <ion-toolbar no-border-top>
    <ion-segment [(ngModel)]="history">
      <ion-segment-button value="cancelled">
        Cancelled
      </ion-segment-button>
      <ion-segment-button value="completed">
        Completed
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>

</ion-header>

<ion-content padding>

    <div [ngSwitch]="history">
        <div class="container" *ngSwitchCase="'completed'">
            <ion-list *ngFor="let item of (items | async)">
                   <ion-item-divider  sticky class="ion-item-divider" 	item-right>
                    <ion-thumbnail item-end>Date: {{ item.Date }}, Time: {{ item.startTime }}
                    </ion-thumbnail>

                    </ion-item-divider>
                    <ion-row (click)="gotoPage(item.key)">
                        <ion-item col-10> 
                            <p> Destination: <b>{{ item.Destination }}</b> </p>  
                            <p> Pickup: <b>{{ item.Pickup }}</b> </p>
                        </ion-item>
                    </ion-row>
            </ion-list>
                <div class="align-left"><h5>{{ (items | async)?.length }} booking record(s) found!</h5></div>
        </div>

        <div class="container" *ngSwitchCase="'cancelled'">
            <ion-list *ngFor="let cancel of (cancelled | async)">
                   <ion-item-divider  sticky class="ion-item-divider" 	item-right>
                    <ion-thumbnail item-end>Date: {{ cancel.Date }}, Time: {{ cancel.startTime }}
                    </ion-thumbnail>

                    </ion-item-divider>
                    <ion-row (click)="gotoPage(cancel.key)">
                        <ion-item col-10> 
                            <p> Destination: <b>{{ cancel.Destination }}</b> </p>  
                            <p> Pickup: <b>{{ cancel.Pickup }}</b> </p>
                        </ion-item>
                    </ion-row>
            </ion-list>
                <div class="align-left"><h5>{{ (cancelled | async)?.length }} booking record(s) found!</h5></div>
        </div>

    </div>

</ion-content>
