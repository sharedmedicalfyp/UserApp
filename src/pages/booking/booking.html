<!--
  Generated template for the BookingPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

       <ion-navbar color="ionic">
        <button ion-button menuToggle>
            <ion-icon name="menu"></ion-icon>
       </button>
        <ion-title>List of Bookings</ion-title>
        </ion-navbar>

        <ion-toolbar no-border-top>
            <ion-segment [(ngModel)]="bookings">
                <ion-segment-button value="pending">
                    Pending
                </ion-segment-button>
                <ion-segment-button value="accepted">
                    Accepted
                </ion-segment-button>
            </ion-segment>
        </ion-toolbar>

</ion-header>

<ion-content padding>
    <!-- <ion-list>
        <ion-item *ngFor="let item of items; let i = index" (click)="gotoPage(i)">
            <p>Time: {{ item.Starttime }}</p>
        </ion-item>
    </ion-list> -->

    <!-- <ion-searchbar
            [(ngModel)]="myInput"
            [showCancelButton]="shouldShowCancel"
            (ionInput)="getItems($event)"
            (ionCancel)="onCancel($event)">
    </ion-searchbar> -->

    <div [ngSwitch]="bookings">
        <div class="container" *ngSwitchCase="'pending'">
                <ion-list *ngFor="let item of (items | async)">
                        <ion-item-divider  sticky class="ion-item-divider" 	item-right>
                        <ion-thumbnail item-end>Date: {{ item.Date }}, Time: {{ item.startTime }}
                        </ion-thumbnail>

                        </ion-item-divider>
                        <ion-row (click)="gotoPage(item.key)" item-right>
                            <!-- <ion-item col-8>
                            <p text-wrap> Pick Up : {{item.Pickup }}</p>
                            <p text-wrap>Destination : {{ item.Destination }}</p>
                            </ion-item> -->

                            <ion-item col-10> 
                                <p> Destination: <b>{{ item.Destination }}</b> </p>  
                                <p> Pickup: <b>{{ item.Pickup }}</b> </p>
                                <!-- <p> Date: <b>{{ item.Date }}</b> </p>
                                <p> Time: <b>{{ item.startTime }}</b> </p> -->
                            </ion-item>

                            <ion-item col-2 class="ion-icon"> 
                                <ion-icon name="time" *ngIf="item.Status === 'Pending'"></ion-icon> 
                                <!-- <ion-icon name="checkmark-circle" *ngIf="item.Status === 'Accepted'"></ion-icon>  
                                <ion-icon name="close-circle" *ngIf="item.Status === 'Cancelled'"></ion-icon>   -->
                            </ion-item>
                        </ion-row>
                </ion-list>
                    <div class="align-left"><h5>{{ (items | async)?.length }} booking record(s) found!</h5></div>  
        </div>

        <div class="container" *ngSwitchCase="'accepted'"> 
            <ion-list *ngFor="let accept of (accepted | async)">
                    <ion-item-divider  sticky class="ion-item-divider" 	item-right>
                    <ion-thumbnail item-end>Date: {{ accept.Date }}, Time: {{ accept.startTime }}
                    </ion-thumbnail>

                    </ion-item-divider>
                    <ion-row (click)="gotoPage(accept.key)">
                        <!-- <ion-item col-8>
                        <p text-wrap> Pick Up : {{item.Pickup }}</p>
                        <p text-wrap>Destination : {{ item.Destination }}</p>
                        </ion-item> -->

                        <ion-item col-10> 
                            <p> Destination: <b>{{ accept.Destination }}</b> </p>  
                            <p> Pickup: <b>{{ accept.Pickup }}</b> </p>
                            <!-- <p> Date: <b>{{ item.Date }}</b> </p>
                            <p> Time: <b>{{ item.startTime }}</b> </p> -->
                        </ion-item>

                         <ion-item col-2 class="ion-icon"> 
                            <!-- <ion-icon name="time" *ngIf="accept.Status === 'Pending'"></ion-icon>  -->
                             <ion-icon name="checkmark-circle" *ngIf="accept.Status === 'Accepted'"></ion-icon>  
                              <!-- <ion-icon name="close-circle" *ngIf="item.Status === 'Cancelled'"></ion-icon>   -->
                        </ion-item>
                    </ion-row>
            </ion-list>
                <div class="align-left"><h5>{{ (accepted | async)?.length }} booking record(s) found!</h5></div>  
        </div>

    </div>

   



</ion-content>