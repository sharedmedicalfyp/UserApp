<!--
  Generated template for the CarpoolPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="ionic">
    <ion-title>Carpool Booking Details</ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding>

   <!-- Validations -->
   <ion-list>
    <p *ngIf="submitAttempt" style="color: #ea6153;">Please fill out all details accurately.</p>
    <!-- <ion-list> -->
    <form [formGroup]="myForm" >
        <ion-item>  
            <ion-label color="primary">Date:</ion-label>
            <ion-datetime displayFormat="MM/DD/YYYY" pickerFormat="YYYY-MM-DD" [class.invalid]="!myForm.get('Date').valid && (myForm.get('Date').dirty || submitAttempt)" [(ngModel)]="event.startTime" [min]="minDate" formControlName="Date"></ion-datetime>
        </ion-item>
        <!-- <div class="error" *ngIf="!myForm.get('Date').valid && myForm.get('Date').touched">
            <p>Please select a valid date.</p>
        </div>   -->

        <ion-item>
            <!-- <ion-label color="primary"></ion-label> -->
            <!-- <ion-datetime displayFormat="h:mm A" pickerFormat="h:mm A" [class.invalid]="!myForm.get('startTime').valid && (myForm.get('startTime').dirty || submitAttempt)" hourValues="07,08,09,10,11,12,13,14,15,16,17,18,19,20" [(ngModel)]="startTime" [min]="minDate" formControlName="startTime"></ion-datetime> -->
            <ion-label floating color="primary">Pick A Timeslot:</ion-label>
                <ion-select class="ion-select" formControlName="startTime" text-wrap [class.invalid]="!myForm.get('startTime').valid && (myForm.get('startTime').dirty || submitAttempt)">
                    <ion-option text-wrap value="09:00-11:00">0900-1100</ion-option>
                    <ion-option text-wrap value="11:00-13:00">1100-1300</ion-option>
                    <ion-option text-wrap value="14:00-16:00">1400-1600</ion-option>
                    <ion-option text-wrap value="16:00-18:00">1600-1800</ion-option>    
                    <ion-option text-wrap value="18:00-20:00">1800-2000</ion-option>
                </ion-select>
        </ion-item>
        <!-- <div class="error" *ngIf="!myForm.get('startTime').valid && myForm.get('startTime').touched">
            <p>Please select a time.</p>
        </div>  -->

        <ion-item text-wrap>
            <ion-label floating color="primary">Duration</ion-label>
                <ion-select class="ion-select" formControlName="duration" text-wrap [class.invalid]="!myForm.get('duration').valid && (myForm.get('duration').dirty || submitAttempt)">
                    <ion-option text-wrap value="1">1 Hour</ion-option>
                    <ion-option text-wrap value="2">2 Hours</ion-option>
                    <ion-option text-wrap value="3">3 Hours</ion-option>
                    <ion-option text-wrap value="4">4 Hours</ion-option>    
                    <ion-option text-wrap value="5">5 Hours</ion-option>
                </ion-select>
        </ion-item>

        <ion-item>
            <ion-label floating color="primary" text-wrap>Pickup Address:</ion-label>
            <ion-input formControlName="Pickup" [class.invalid]="!myForm.get('Pickup').valid && (myForm.get('Pickup').dirty || submitAttempt)"></ion-input>
        </ion-item>
        <div class="error" *ngIf="!myForm.get('Pickup').valid && myForm.get('Pickup').touched">
            <p>Please enter an address.</p>
        </div> 

        <ion-item>
            <ion-label floating color="primary" text-wrap>Destination Address:</ion-label>
            <ion-input formControlName="destination" [class.invalid]="!myForm.get('destination').valid && (myForm.get('destination').dirty || submitAttempt)"></ion-input>
        </ion-item>
        <div class="error" *ngIf="!myForm.get('destination').valid && myForm.get('destination').touched">
            <p>Please enter an address.</p>
        </div> 

        <ion-item text-wrap>
            <ion-label floating color="primary">Select family member(s):</ion-label>
                <ion-select class="ion-select" multiple="true" formControlName="Name" text-wrap [class.invalid]="!myForm.get('Name').valid && (myForm.get('Name').dirty || submitAttempt)">
                    <ion-option *ngFor="let family of (familys | async)" text-wrap value="{{ family.Name }}">{{ family.Name }}</ion-option>
                </ion-select>
        </ion-item>

        <ion-item text-wrap>
            <ion-label floating color="primary">Require Assistance?</ion-label>
                <ion-select class="ion-select" multiple="true" formControlName="Assistance" text-wrap [class.invalid]="!myForm.get('Assistance').valid && (myForm.get('Assistance').dirty || submitAttempt)">
                    <ion-option text-wrap value="None" selected="true">None</ion-option>
                    <ion-option text-wrap value="Wheelchair">Wheelchair</ion-option>
                    <ion-option text-wrap value="WalkingEquipments">Walking equipments</ion-option>
                    <ion-option text-wrap value="IV">IV Drip Stand</ion-option>
                </ion-select>
        </ion-item>
        <!-- <div class="error" *ngIf="!myForm.get('Assistance').valid && myForm.get('Assistance').touched">
            <p>Please enter an address.</p>
        </div>  -->
    
        <ion-item text-wrap>
            <ion-label floating color="primary">Escort's Gender:</ion-label>
                <ion-select class="ion-select" formControlName="EscortsGender" text-wrap [class.invalid]="!myForm.get('EscortsGender').valid && (myForm.get('EscortsGender').dirty || submitAttempt)">
                    <ion-option text-wrap value="Male">Male</ion-option>
                    <ion-option text-wrap value="Female">Female</ion-option>
                </ion-select>
        </ion-item>
        <!-- <div class="error" *ngIf="!myForm.get('EscortsGender').valid && myForm.get('EscortsGender').touched">
            <p>Please enter an address.</p>
        </div>  -->


        <!--New option-->
        <!-- <ion-item class="fp" text-wrap no-lines>
           <button ion-button class="but" text-center (click)="Carpool()">Go Carpool</button>
        </ion-item> -->

        <!-- <ion-item>
            <ion-label color="primary" text-wrap>Special Needs:</ion-label>
            <ion-input formControlName="needs" placeholder="Leave blank if no special needs required"></ion-input>
        </ion-item> -->
        <!-- <div class="error" *ngIf="!myForm.get('needs').valid && myForm.get('needs').touched">
            <p>Please enter something valid.</p>
        </div>  -->

         <ion-item>
            <ion-label color="primary" text-wrap>Secondary Contact Number:</ion-label>
            <ion-input formControlName="Secondarytel" type="tel" placeholder="(Optional)" [class.invalid]="!myForm.get('Secondarytel').valid  && (myForm.get('Secondarytel').dirty || submitAttempt)"></ion-input>
        </ion-item>
        <div class="error" *ngIf="!myForm.get('Secondarytel').valid && myForm.get('Secondarytel').touched">
            <p>Please enter a valid phone number of 8 characters.</p>
        </div>

    </form>
  </ion-list>
 
   <button ion-button full icon-left (click)="AddBooking()">
   <ion-icon name="checkmark"></ion-icon>Add Booking</button>

</ion-content>
